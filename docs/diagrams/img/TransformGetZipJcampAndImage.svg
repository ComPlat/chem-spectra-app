<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="896px" preserveAspectRatio="none" style="width:1078px;height:896px;background:#FFFFFF;" version="1.1" viewBox="0 0 1078 896" width="1078px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="686.0547" style="stroke:#000000;stroke-width:1.5;" width="1061" x="10" y="112.2969"/><rect fill="none" height="522.3906" style="stroke:#000000;stroke-width:1.5;" width="1041" x="20" y="268.9609"/><rect fill="none" height="372.7266" style="stroke:#000000;stroke-width:1.5;" width="867.5" x="183.5" y="382.4922"/><rect fill="none" height="223.0625" style="stroke:#000000;stroke-width:1.5;" width="847.5" x="193.5" y="525.1563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="49" x2="49" y1="81.2969" y2="815.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="251.5" x2="251.5" y1="81.2969" y2="815.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="454.5" x2="454.5" y1="81.2969" y2="815.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="658" x2="658" y1="81.2969" y2="815.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="852" x2="852" y1="81.2969" y2="815.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="976" x2="976" y1="81.2969" y2="815.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="30" y="77.9951">User</text><ellipse cx="49" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M49,21.5 L49,48.5 M36,29.5 L62,29.5 M49,48.5 L36,63.5 M49,48.5 L62,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="30" y="827.3467">User</text><ellipse cx="49" cy="839.1484" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M49,847.1484 L49,874.1484 M36,855.1484 L62,855.1484 M49,874.1484 L36,889.1484 M49,874.1484 L62,889.1484 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="203.5" y="77.9951">TransformAPI</text><path d="M231.5,37 L231.5,61 M231.5,49 L248.5,49 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="260.5" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="203.5" y="827.3467">TransformAPI</text><path d="M231.5,834.6484 L231.5,858.6484 M231.5,846.6484 L248.5,846.6484 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="260.5" cy="846.6484" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="390.5" y="77.9951">TransformHandler</text><ellipse cx="455" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="451,37,457,32,455,37,457,42,451,37" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="390.5" y="827.3467">TransformHandler</text><ellipse cx="455" cy="846.6484" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="451,834.6484,457,829.6484,455,834.6484,457,839.6484,451,834.6484" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="596" y="77.9951">TranformerModel</text><ellipse cx="658" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="646" x2="670" y1="63" y2="63"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="596" y="827.3467">TranformerModel</text><ellipse cx="658" cy="846.6484" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="646" x2="670" y1="860.6484" y2="860.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="792" y="77.9951">ComposerModel</text><ellipse cx="852" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="840" x2="864" y1="63" y2="63"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="792" y="827.3467">ComposerModel</text><ellipse cx="852" cy="846.6484" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="840" x2="864" y1="860.6484" y2="860.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="922" y="77.9951">BagItConverter</text><ellipse cx="976.5" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="972.5,37,978.5,32,976.5,37,978.5,42,972.5,37" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="922" y="827.3467">BagItConverter</text><ellipse cx="976.5" cy="846.6484" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="972.5,834.6484,978.5,829.6484,976.5,834.6484,978.5,839.6484,972.5,834.6484" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="240,93.2969,250,97.2969,240,101.2969,244,97.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="49" x2="246" y1="97.2969" y2="97.2969"/><path d="M10,112.2969 L74,112.2969 L74,119.4297 L64,129.4297 L10,129.4297 L10,112.2969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="686.0547" style="stroke:#000000;stroke-width:1.5;" width="1061" x="10" y="112.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="125.3638">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="97" x="89" y="124.5073">[file not found]</text><polygon fill="#181818" points="60,146.5625,50,150.5625,60,154.5625,56,150.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="251" y1="150.5625" y2="150.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="66" y="145.4966">Error 404 Bad request</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1071" y1="159.5625" y2="159.5625"/><polygon fill="#181818" points="443,162.5625,453,166.5625,443,170.5625,447,166.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="252" x2="449" y1="166.5625" y2="166.5625"/><polygon fill="#181818" points="646,191.6953,656,195.6953,646,199.6953,650,195.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="455" x2="652" y1="195.6953" y2="195.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="462" y="190.6294">get composer, error</text><polygon fill="#181818" points="840,220.8281,850,224.8281,840,228.8281,844,224.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="658" x2="846" y1="224.8281" y2="224.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="665" y="219.7622">get composer, error</text><polygon fill="#181818" points="669,249.9609,659,253.9609,669,257.9609,665,253.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="663" x2="851" y1="253.9609" y2="253.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="675" y="248.895">composer</text><path d="M20,268.9609 L84,268.9609 L84,276.0938 L74,286.0938 L20,286.0938 L20,268.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="522.3906" style="stroke:#000000;stroke-width:1.5;" width="1041" x="20" y="268.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="35" y="282.0278">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="101" x="99" y="281.1714">[invalid molfile]</text><polygon fill="#181818" points="466,303.2266,456,307.2266,466,311.2266,462,307.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="460" x2="657" y1="307.2266" y2="307.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="472" y="302.1606">json message invalid molfile</text><polygon fill="#181818" points="263,332.3594,253,336.3594,263,340.3594,259,336.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="257" x2="454" y1="336.3594" y2="336.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="269" y="331.2935">json message invalid molfile</text><polygon fill="#181818" points="60,361.4922,50,365.4922,60,369.4922,56,365.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="251" y1="365.4922" y2="365.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="66" y="360.4263">json message invalid molfile</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1061" y1="374.4922" y2="374.4922"/><path d="M183.5,382.4922 L247.5,382.4922 L247.5,389.625 L237.5,399.625 L183.5,399.625 L183.5,382.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="372.7266" style="stroke:#000000;stroke-width:1.5;" width="867.5" x="183.5" y="382.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="198.5" y="395.5591">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="204" x="262.5" y="394.7026">[composer is not BagIt or array]</text><polygon fill="#181818" points="840,416.7578,850,420.7578,840,424.7578,844,420.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="658" x2="846" y1="420.7578" y2="420.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="665" y="415.6919">get jcamp, image, csv files</text><polygon fill="#181818" points="669,445.8906,659,449.8906,669,453.8906,665,449.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="663" x2="851" y1="449.8906" y2="449.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="675" y="444.8247">jcamp, image, csv files</text><polygon fill="#181818" points="466,475.0234,456,479.0234,466,483.0234,462,479.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="460" x2="657" y1="479.0234" y2="479.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="472" y="473.9575">jcamp, image, csv files</text><polygon fill="#181818" points="263,504.1563,253,508.1563,263,512.1563,259,508.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="257" x2="454" y1="508.1563" y2="508.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="269" y="503.0903">jcamp, image, csv files</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="183.5" x2="1051" y1="517.1563" y2="517.1563"/><path d="M193.5,525.1563 L257.5,525.1563 L257.5,532.2891 L247.5,542.2891 L193.5,542.2891 L193.5,525.1563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="223.0625" style="stroke:#000000;stroke-width:1.5;" width="847.5" x="193.5" y="525.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="208.5" y="538.2231">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="125" x="272.5" y="537.3667">[composer is BagIt]</text><polygon fill="#181818" points="964.5,559.4219,974.5,563.4219,964.5,567.4219,968.5,563.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="455" x2="970.5" y1="563.4219" y2="563.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="462" y="558.356">get list jcamp, images, csv files</text><polygon fill="#181818" points="466,588.5547,456,592.5547,466,596.5547,462,592.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="460" x2="975.5" y1="592.5547" y2="592.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="472" y="587.4888">list jcamp, images, csv files</text><polygon fill="#181818" points="263,617.6875,253,621.6875,263,625.6875,259,621.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="257" x2="454" y1="621.6875" y2="621.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="269" y="616.6216">list jcamp, images, csv files</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="193.5" x2="1041" y1="630.6875" y2="630.6875"/><polygon fill="#181818" points="840,648.8203,850,652.8203,840,656.8203,844,652.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="658" x2="846" y1="652.8203" y2="652.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="665" y="647.7544">get list jcamp, images files</text><polygon fill="#181818" points="669,677.9531,659,681.9531,669,685.9531,665,681.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="663" x2="851" y1="681.9531" y2="681.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="675" y="676.8872">list jcamp, images files</text><polygon fill="#181818" points="466,707.0859,456,711.0859,466,715.0859,462,711.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="460" x2="657" y1="711.0859" y2="711.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="472" y="706.02">list jcamp, images files</text><polygon fill="#181818" points="263,736.2188,253,740.2188,263,744.2188,259,740.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="257" x2="454" y1="740.2188" y2="740.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="269" y="735.1528">list jcamp, images files</text><polygon fill="#181818" points="60,779.3516,50,783.3516,60,787.3516,56,783.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54" x2="251" y1="783.3516" y2="783.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="66" y="778.2856">spectrum.zip file</text><!--MD5=[589a01c9f2ff5f6e15da33b45a0ddd56]
@startuml TransformGetZipJcampAndImage
' Endpoint: /zip_jcamp_n_img [POST]

actor       User
boundary    TransformAPI
control     TransformHandler
entity      TranformerModel
entity      ComposerModel
control     BagItConverter

User -> TransformAPI
alt file not found
    TransformAPI - -> User: Error 404 Bad request
else
    TransformAPI -> TransformHandler
    TransformHandler -> TranformerModel: get composer, error
    TranformerModel -> ComposerModel: get composer, error
    ComposerModel - -> TranformerModel: composer
    alt invalid molfile
        TranformerModel - -> TransformHandler: json message invalid molfile
        TransformHandler - -> TransformAPI: json message invalid molfile
        TransformAPI - -> User: json message invalid molfile
    else
        alt composer is not BagIt or array
            TranformerModel -> ComposerModel: get jcamp, image, csv files
            ComposerModel - -> TranformerModel: jcamp, image, csv files
            TranformerModel - -> TransformHandler: jcamp, image, csv files
            TransformHandler - -> TransformAPI: jcamp, image, csv files
            
        else
            alt composer is BagIt
                TransformHandler -> BagItConverter: get list jcamp, images, csv files
                BagItConverter - -> TransformHandler: list jcamp, images, csv files
                TransformHandler - -> TransformAPI: list jcamp, images, csv files
            else
                TranformerModel -> ComposerModel: get list jcamp, images files
                ComposerModel - -> TranformerModel: list jcamp, images files
                TranformerModel - -> TransformHandler: list jcamp, images files
                TransformHandler - -> TransformAPI: list jcamp, images files
            end
        end
        TransformAPI - -> User: spectrum.zip file
    end
end
    

@enduml

@startuml TransformGetZipJcampAndImage

actor       User
boundary    TransformAPI
control     TransformHandler
entity      TranformerModel
entity      ComposerModel
control     BagItConverter

User -> TransformAPI
alt file not found
    TransformAPI - -> User: Error 404 Bad request
else
    TransformAPI -> TransformHandler
    TransformHandler -> TranformerModel: get composer, error
    TranformerModel -> ComposerModel: get composer, error
    ComposerModel - -> TranformerModel: composer
    alt invalid molfile
        TranformerModel - -> TransformHandler: json message invalid molfile
        TransformHandler - -> TransformAPI: json message invalid molfile
        TransformAPI - -> User: json message invalid molfile
    else
        alt composer is not BagIt or array
            TranformerModel -> ComposerModel: get jcamp, image, csv files
            ComposerModel - -> TranformerModel: jcamp, image, csv files
            TranformerModel - -> TransformHandler: jcamp, image, csv files
            TransformHandler - -> TransformAPI: jcamp, image, csv files
            
        else
            alt composer is BagIt
                TransformHandler -> BagItConverter: get list jcamp, images, csv files
                BagItConverter - -> TransformHandler: list jcamp, images, csv files
                TransformHandler - -> TransformAPI: list jcamp, images, csv files
            else
                TranformerModel -> ComposerModel: get list jcamp, images files
                ComposerModel - -> TranformerModel: list jcamp, images files
                TranformerModel - -> TransformHandler: list jcamp, images files
                TransformHandler - -> TransformAPI: list jcamp, images files
            end
        end
        TransformAPI - -> User: spectrum.zip file
    end
end
    

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>