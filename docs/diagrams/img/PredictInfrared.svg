<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="563px" preserveAspectRatio="none" style="width:723px;height:563px;background:#FFFFFF;" version="1.1" viewBox="0 0 723 563" width="723px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="193.9297" style="stroke:#000000;stroke-width:1.5;" width="568" x="10" y="271.9609"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="39" x2="39" y1="81.2969" y2="482.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="156" x2="156" y1="81.2969" y2="482.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="274" x2="274" y1="81.2969" y2="482.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="425" x2="425" y1="81.2969" y2="482.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="529" x2="529" y1="81.2969" y2="482.8906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="696.5" x2="696.5" y1="81.2969" y2="482.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="20" y="77.9951">User</text><ellipse cx="39" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M39,21.5 L39,48.5 M26,29.5 L52,29.5 M39,48.5 L26,63.5 M39,48.5 L52,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="20" y="494.8857">User</text><ellipse cx="39" cy="506.6875" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M39,514.6875 L39,541.6875 M26,522.6875 L52,522.6875 M39,541.6875 L26,556.6875 M39,541.6875 L52,556.6875 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="110" y="77.9951">InferenceAPI</text><path d="M135.5,37 L135.5,61 M135.5,49 L152.5,49 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="164.5" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="110" y="494.8857">InferenceAPI</text><path d="M135.5,502.1875 L135.5,526.1875 M135.5,514.1875 L152.5,514.1875 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="164.5" cy="514.1875" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="212" y="77.9951">InferenceHandler</text><ellipse cx="274" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="270,37,276,32,274,37,276,42,270,37" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="212" y="494.8857">InferenceHandler</text><ellipse cx="274" cy="514.1875" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="270,502.1875,276,497.1875,274,502.1875,276,507.1875,270,502.1875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="370" y="77.9951">MoleculeModel</text><ellipse cx="425" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="413" x2="437" y1="63" y2="63"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="370" y="494.8857">MoleculeModel</text><ellipse cx="425" cy="514.1875" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="413" x2="437" y1="528.1875" y2="528.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="490" y="77.9951">InferModel</text><ellipse cx="529" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="525,37,531,32,529,37,531,42,525,37" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="490" y="494.8857">InferModel</text><ellipse cx="529" cy="514.1875" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="525,502.1875,531,497.1875,529,502.1875,531,507.1875,525,502.1875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="672.5" y="77.9951">InferIR</text><path d="M676.5,37 L676.5,61 M676.5,49 L693.5,49 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="705.5" cy="49" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="672.5" y="494.8857">InferIR</text><path d="M676.5,502.1875 L676.5,526.1875 M676.5,514.1875 L693.5,514.1875 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="705.5" cy="514.1875" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="144,93.2969,154,97.2969,144,101.2969,148,97.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="39" x2="150" y1="97.2969" y2="97.2969"/><polygon fill="#181818" points="262,107.2969,272,111.2969,262,115.2969,266,111.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="156" x2="268" y1="111.2969" y2="111.2969"/><polygon fill="#181818" points="413,136.4297,423,140.4297,413,144.4297,417,140.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="274" x2="419" y1="140.4297" y2="140.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="281" y="135.3638">get molecule model</text><polygon fill="#181818" points="285,165.5625,275,169.5625,285,173.5625,281,169.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="279" x2="424" y1="169.5625" y2="169.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="291" y="164.4966">molecule model</text><polygon fill="#181818" points="517,194.6953,527,198.6953,517,202.6953,521,198.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="274" x2="523" y1="198.6953" y2="198.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="281" y="193.6294">predict infrared</text><polygon fill="#181818" points="685,223.8281,695,227.8281,685,231.8281,689,227.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="529" x2="691" y1="227.8281" y2="227.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="536" y="222.7622">predict infrared</text><polygon fill="#181818" points="540,252.9609,530,256.9609,540,260.9609,536,256.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="534" x2="696" y1="256.9609" y2="256.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="546" y="251.895">predicted values, error</text><path d="M10,271.9609 L74,271.9609 L74,279.0938 L64,289.0938 L10,289.0938 L10,271.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="193.9297" style="stroke:#000000;stroke-width:1.5;" width="568" x="10" y="271.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="285.0278">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="68" x="89" y="284.1714">[has error]</text><polygon fill="#181818" points="285,306.2266,275,310.2266,285,314.2266,281,310.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="279" x2="528" y1="310.2266" y2="310.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="291" y="305.1606">error</text><polygon fill="#181818" points="167,335.3594,157,339.3594,167,343.3594,163,339.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="161" x2="273" y1="339.3594" y2="339.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="173" y="334.2935">Error 400</text><polygon fill="#181818" points="50,364.4922,40,368.4922,50,372.4922,46,368.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="44" x2="155" y1="368.4922" y2="368.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="56" y="363.4263">Error 400</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="578" y1="377.4922" y2="377.4922"/><polygon fill="#181818" points="285,395.625,275,399.625,285,403.625,281,399.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="279" x2="528" y1="399.625" y2="399.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="291" y="394.5591">predicted data</text><polygon fill="#181818" points="167,424.7578,157,428.7578,167,432.7578,163,428.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="161" x2="273" y1="428.7578" y2="428.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="173" y="423.6919">predicted data</text><polygon fill="#181818" points="50,453.8906,40,457.8906,50,461.8906,46,457.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="44" x2="155" y1="457.8906" y2="457.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="56" y="452.8247">predicted data</text><!--MD5=[4da74fe15f5190673d36446b67a57a18]
@startuml PredictInfrared
' Endpoint: /predict/infrared [POST]
' Endpoint: /api/v1/chemspectra/predict/infrared [POST]

actor       User
boundary    InferenceAPI
control     InferenceHandler
entity      MoleculeModel
control     InferModel
boundary    InferIR

User -> InferenceAPI
InferenceAPI -> InferenceHandler
InferenceHandler -> MoleculeModel: get molecule model
MoleculeModel - -> InferenceHandler: molecule model
InferenceHandler -> InferModel: predict infrared
InferModel -> InferIR: predict infrared
InferIR - -> InferModel: predicted values, error

alt has error
    InferModel - -> InferenceHandler: error
    InferenceHandler - -> InferenceAPI: Error 400
    InferenceAPI - -> User: Error 400
else
    InferModel - -> InferenceHandler: predicted data
    InferenceHandler - -> InferenceAPI: predicted data
    InferenceAPI - -> User: predicted data
end
    

@enduml

@startuml PredictInfrared

actor       User
boundary    InferenceAPI
control     InferenceHandler
entity      MoleculeModel
control     InferModel
boundary    InferIR

User -> InferenceAPI
InferenceAPI -> InferenceHandler
InferenceHandler -> MoleculeModel: get molecule model
MoleculeModel - -> InferenceHandler: molecule model
InferenceHandler -> InferModel: predict infrared
InferModel -> InferIR: predict infrared
InferIR - -> InferModel: predicted values, error

alt has error
    InferModel - -> InferenceHandler: error
    InferenceHandler - -> InferenceAPI: Error 400
    InferenceAPI - -> User: Error 400
else
    InferModel - -> InferenceHandler: predicted data
    InferenceHandler - -> InferenceAPI: predicted data
    InferenceAPI - -> User: predicted data
end
    

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>